<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dlog.diary.user.mapper.UserMapper">

	<resultMap id="user" type="com.dlog.diary.user.entity.User">
		<result property="userId" column="user_id"/>
		<result property="loginType" column="login_type"/>
		<result property="refreshToken" column="refresh_token"/>
		<result property="uniqId" column="uniq_id"/>
	</resultMap>
	
	<select id="getUser" resultMap="user">
		SELECT * 
		FROM USER
		WHERE user_id = #{userId}
	</select>
	
	
	<insert id="setUser" parameterType="com.dlog.diary.user.entity.User">
		INSERT INTO 
		USER (
						user_id
						,sex
						,weight
						,height
						,birth
						,nickname
						,refresh_token
						,login_type
						,uniq_id
		) VALUES(
						#{userId}
						,#{sex}
						,#{weight}
						,#{height}
						,#{birth}
						,#{nickname}
						,#{refreshToken}
						,#{loginType}
						,#{uniqId}
		)
		ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);
	</insert>
	
	<delete id="removeUser">
		DELETE
		FROM USER
		WHERE user_id = #{userId}
	</delete>
	
</mapper>